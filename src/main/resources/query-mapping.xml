<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<!-- 在Reduce输出后，将数据插入到MySQL所需要执行的SQL语句 -->
<configuration>
    <property>
        <name>new_install_user</name>
        <value>
            insert into stats_user (
            platform_dimension_id,
            date_dimension_id,
            new_install_users,
            created
            ) values (?,?,?,?) on duplicate key update new_install_users=?
        </value>
    </property>
    <property>
        <name>browser_new_install_user</name>
        <value>
            insert into stats_device_browser (
            platform_dimension_id,
            date_dimension_id,
            browser_dimension_id,
            new_install_users,
            created
            ) values (?,?,?,?,?) on duplicate key update new_install_users=?
        </value>
    </property>
    <property>
        <name>active_user</name>
        <value>
            insert into stats_user (
            platform_dimension_id,
            date_dimension_id,
            active_users,
            created
            ) values (?,?,?,?) on duplicate key update active_users=?
        </value>
    </property>
    <property>
        <name>browser_active_user</name>
        <value>
            insert into stats_device_browser (
            platform_dimension_id,
            date_dimension_id,
            browser_dimension_id,
            active_users,
            created
            ) values (?,?,?,?,?) on duplicate key update active_users=?
        </value>
    </property>
    <property>
        <name>active_member</name>
        <value>
            insert into stats_user (
            platform_dimension_id,
            date_dimension_id,
            active_members,
            created
            ) values (?,?,?,?) on duplicate key update active_members=?
        </value>
    </property>
    <property>
        <name>browser_active_member</name>
        <value>
            insert into stats_device_browser (
            platform_dimension_id,
            date_dimension_id,
            browser_dimension_id,
            active_members,
            created
            ) values (?,?,?,?,?) on duplicate key update active_members=?
        </value>
    </property>
    <property>
        <name>new_member</name>
        <value>
            insert into stats_user (
            platform_dimension_id,
            date_dimension_id,
            new_members,
            created
            ) values (?,?,?,?) on duplicate key update new_members=?
        </value>
    </property>
    <property>
        <name>browser_new_member</name>
        <value>
            insert into stats_device_browser (
            platform_dimension_id,
            date_dimension_id,
            browser_dimension_id,
            new_members,
            created
            ) values (?,?,?,?,?) on duplicate key update new_members=?
        </value>
    </property>
    <property>
        <name>insert_member_info</name>
        <value>
            insert into member_info (
            member_id,
            last_visit_date,
            created
            ) values (?,?,?) on duplicate key update last_visit_date=?
        </value>
    </property>
    <property>
        <name>sessions</name>
        <value>
            insert into stats_user (
            platform_dimension_id,
            date_dimension_id,
            sessions,
            sessions_length,
            created
            ) values (?,?,?,?,?) on duplicate key update sessions=?,sessions_length=?
        </value>
    </property>
    <property>
        <name>browser_sessions</name>
        <value>
            insert into stats_device_browser (
            platform_dimension_id,
            date_dimension_id,
            browser_dimension_id,
            sessions,
            sessions_length,
            created
            ) values (?,?,?,?,?,?) on duplicate key update sessions=?,sessions_length=?
        </value>
    </property>
</configuration>
